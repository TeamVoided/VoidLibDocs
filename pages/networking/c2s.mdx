---
title: Client to Server
description: Creating a C2S packet
---

import { Tabs, Tab } from "nextra/components";

# Client to Server Packets

For when you need to send stuff from the client to the server ðŸ˜¨

## Creating C2S Packets

Well first of all you probably want the library from [maven](https://maven.teamvoided.org)

<Tabs items={["Kotlin DSL", "Groovy DSL"]}>
<Tab>
        ```kotlin
        repositories {
            maven { url = uri("https://maven.teamvoided.org/releases") }
        }
        ```
    </Tab>
    <Tab>
        ```groovy
        maven {
            url "https://maven.teamvoided.org/releases"
        }
        ```
    </Tab>
</Tabs>

Now that were done with that lets work on our data

You'll need an @Serializable (kotlinx.serialization) data class

Here's an example

```kotlin
@Serializable
data class TestData(val shouldDoSomething: Boolean)
```

## Packet Logic (The 'Hard' Part)

You'll need an object (or class we don't discriminate (You should use an object though)) that extends either C2SVoidPacket or ChainC2SVoidPacket

The only difference being that the `Chain` variant provides utility function where you dont have to put in the chain/receiver id when sending packets

Here's an example

```kotlin
object TestPacket: ChainC2SVoidPacket<TestData> {
    override val chainId: Identifier = Identifier("test_mod", "test_packet")
    @OptIn(ExperimentalSerializationApi::class)
    override val format: BinaryFormat = Cbor { encodeDefaults = true }
    //serializer() function auto generated by @Serializable
    override val serializer: KSerializer<TestData> = TestData.serializer()

    override fun handleC2S(
        server: MinecraftServer,
        player: ServerPlayerEntity,
        handler: ServerPlayNetworkHandler,
        data: TestData,
        responseSender: PacketSender
    ) {
        if (data.shouldDoSomething) {
            //do something
        }
    }
}
```
